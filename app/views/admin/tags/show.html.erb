<header class="flex mb-6 items-center">
  <div>
    <h2 class="crayons-title"><span class="crayons-tag crayons-tag--2xl" style="background:<%= @tag.bg_color_hex %>;color:<%= @tag.text_color_hex %>;">#<%= @tag.name %></span></h2>
    <p>Tagged <%= @tag.taggings_count %> times</p>
  </div>

  <div class="ml-auto">
    <a href="/t/<%= @tag.name %>">View</a>
  </div>
</header>

<div class="grid gap-6">
  <div class="crayons-card p-6">
    <h4 class="mb-4">Moderators</h4>
    <% if @tag.tag_moderator_ids.any? %>
      <ul class="list-group-flush">
        <% @tag.tag_moderator_ids.each do |id| %>
            <li class="list-group-item d-flex justify-content-between">
              <a href="/<%= User.find(id).username %>">@<%= User.find(id).username %></a>
              <%= form_with url: remove_tag_moderator_admin_tag_path(@tag.id), model: [:admin, @tag], method: :delete, data: { remote: false } do |f| %>
                <%= f.hidden_field :user_id, value: id %>
                <%= f.submit "Remove", class: "btn btn-danger btn-sm" %>
              <% end %>
            </li>
        <% end %>
      </ul>
    <% else %>
      <p>This tag currently has no moderators.</p>
    <% end %>
    <%= form_with url: add_tag_moderator_admin_tag_path(@tag.id), model: [:admin, @tag], data: { remote: false }, html: { class: "form-inline justify-content-between" } do |f| %>
      <div class="form-group">
        <%= f.label :user_id, "Add Moderator (ID):", class: "mr-3" %>
        <%= f.text_field :user_id, class: "form-control" %>
      </div>
      <div>
        <%= f.submit "Add Moderator", class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
  <%= render "form", tag: @tag, badges_for_options: @badges_for_options %>
</div>
